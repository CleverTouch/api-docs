<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://developer.pardot.com/kb/api-version-4/">
        <link rel="shortcut icon" href="../../favicon.ico">
        

        <title>Version 4 - Pardot API Documentation</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Pardot API Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                
                    <li >
                        <a href="../..">Overview</a>
                    </li>
                
            
            
            
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../..">Using the API</a>
                            </li>
                        
                            <li class="active">
                                <a href="./">Version 4</a>
                            </li>
                        
                            <li >
                                <a href="../object-field-references/">Object Field References</a>
                            </li>
                        
                            <li >
                                <a href="../error-codes-messages/">Error Codes & Messages</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
            
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version 3 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../api-version-3/campaigns/">Campaigns</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/custom-fields/">Custom Fields</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/custom-redirects/">Custom Redirects</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/dynamic-content/">Dynamic Content</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/emails/">Email</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/email-templates/">Email Templates</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/forms/">Forms</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/lifecycle-histories/">Lifecycle Histories</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/lifecycle-stages/">Lifecycle Stages</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/lists/">Lists</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/list-memberships/">List Memberships</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/opportunities/">Opportunities</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/prospects/">Prospects</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/prospect-accounts/">Prospect Accounts</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/tags/">Tags</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/tag-objects/">TagObjects</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/users/">Users</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/visitors/">Visitors</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/visitor-activities/">Visitor Activities</a>
                            </li>
                        
                            <li >
                                <a href="../api-version-3/visits/">Visits</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
            
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version 4 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="campaigns/">Campaigns</a>
                            </li>
                        
                            <li >
                                <a href="custom-fields/">Custom Fields</a>
                            </li>
                        
                            <li >
                                <a href="custom-redirects/">Custom Redirects</a>
                            </li>
                        
                            <li >
                                <a href="dynamic-content/">Dynamic Content</a>
                            </li>
                        
                            <li >
                                <a href="emails/">Email</a>
                            </li>
                        
                            <li >
                                <a href="email-templates/">Email Templates</a>
                            </li>
                        
                            <li >
                                <a href="forms/">Forms</a>
                            </li>
                        
                            <li >
                                <a href="lifecycle-histories/">Lifecycle Histories</a>
                            </li>
                        
                            <li >
                                <a href="lifecycle-stages/">Lifecycle Stages</a>
                            </li>
                        
                            <li >
                                <a href="lists/">Lists</a>
                            </li>
                        
                            <li >
                                <a href="list-memberships/">List Memberships</a>
                            </li>
                        
                            <li >
                                <a href="opportunities/">Opportunities</a>
                            </li>
                        
                            <li >
                                <a href="prospects/">Prospects</a>
                            </li>
                        
                            <li >
                                <a href="prospect-accounts/">Prospect Accounts</a>
                            </li>
                        
                            <li >
                                <a href="tags/">Tags</a>
                            </li>
                        
                            <li >
                                <a href="tag-objects/">TagObjects</a>
                            </li>
                        
                            <li >
                                <a href="users/">Users</a>
                            </li>
                        
                            <li >
                                <a href="visitors/">Visitors</a>
                            </li>
                        
                            <li >
                                <a href="visitor-activities/">Visitor Activities</a>
                            </li>
                        
                            <li >
                                <a href="visits/">Visits</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li>
                    <a rel="next" href="../..">
                    <i class="fa fa-arrow-left"></i> Using the API
                    </a>
                </li>
                
                
                <li>
                    <a rel="prev" href="../object-field-references/">
                    Object Field References <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/Pardot/api-docs" target="_blank">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#api-version-4">API Version 4</a></li>
        
            <li><a href="#key-differences">Key Differences</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9 main-content" role="main">




<h1 id="api-version-4">API Version 4</h1>
<p>In order to accommodate a new feature related to prospects,
we have created a new version of our APIs - version 4.
We are now allowing multiple prospects to share an email address on some Pardot accounts.
If your account has this feature active now, then you MUST use version 4.
Everyone else can continue using version 3.</p>
<p>For more information on the API in general, check out the <a href="../../">Overview Page</a>.</p>
<p>For specific API endpoints, please select from the "Version 4" list above.</p>
<h2 id="key-differences">Key Differences</h2>
<p>Version 4 may use slightly different input syntax where prospects are involved,
and may return multiple prospects where version 3 returned one.
Please check out the appropriate version's documentation for more exact usage details.</p>
<p>If your account uses version 4 of the API, then you must include the version 4 tag in your requests.
Failure to do so will result in an error about the API being requested.</p>
<p>The biggest change in the APIs in this version are that we now allow for multiple prospect records with the same email address.
A few examples of what that means:</p>
<ul>
<li>Prospect Create by email will create a new prospect for each time the call is made.</li>
<li>Prospect Upsert by email will also always create under this specification.</li>
<li>Prospect Update by email will no longer work (we don't necessarily know which prospect you're talking about)</li>
</ul>
<h3 id="requesting-an-api-key">Requesting an API key</h3>
<p>An exception to this rule is requesting an <code>api_key</code> through the login API.
You may use <code>/version/3</code> or <code>/version/4</code> for this call.
To let you know that you must use version 4, we will return a <code>&lt;version&gt;4&lt;/version&gt;</code> tag in the response.
This version tag will not be included if your account cannot use version 4.</p>
<p>Request:</p>
<pre><code>POST: https://pi.pardot.com/api/login/version/3
message body: email=&lt;email&gt;&amp;password=&lt;password&gt;&amp;user_key=&lt;user_key&gt;
</code></pre>

<p>Response:</p>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
  &lt;api_key&gt;1234abcd&lt;/api_key&gt;
  &lt;version&gt;4&lt;/version&gt;
&lt;/rsp&gt;
</code></pre></div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>