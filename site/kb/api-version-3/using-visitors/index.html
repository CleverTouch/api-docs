<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

        <title>Using Visitors - Pardot Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Pardot Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Version 3 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../overview">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../using-the-pardot-api">Using the Pardot API</a>
                        </li>
                    
                        <li >
                            <a href="../authentication">Authentication</a>
                        </li>
                    
                        <li >
                            <a href="../using-opportunities">Using Opportunities</a>
                        </li>
                    
                        <li >
                            <a href="../using-prospects">Using Prospects</a>
                        </li>
                    
                        <li >
                            <a href="../using-prospect-accounts">Using Prospect Accounts</a>
                        </li>
                    
                        <li >
                            <a href="../using-users">Using Users</a>
                        </li>
                    
                        <li >
                            <a href="../using-lists">Using Lists</a>
                        </li>
                    
                        <li >
                            <a href="../using-list-memberships">Using List Memberships</a>
                        </li>
                    
                        <li >
                            <a href="../using-visits">Using Visits</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">Using Visitors</a>
                        </li>
                    
                        <li >
                            <a href="../using-visitor-activities">Using Visitor Activities</a>
                        </li>
                    
                        <li >
                            <a href="../querying-prospects">Querying Prospects</a>
                        </li>
                    
                        <li >
                            <a href="../querying-opportunities">Querying Opportunities</a>
                        </li>
                    
                        <li >
                            <a href="../querying-visitors">Querying Visitors</a>
                        </li>
                    
                        <li >
                            <a href="../querying-users">Querying Users</a>
                        </li>
                    
                        <li >
                            <a href="../querying-lists">Querying Lists</a>
                        </li>
                    
                        <li >
                            <a href="../querying-list-memberships">Querying List Memberships</a>
                        </li>
                    
                        <li >
                            <a href="../querying-visits">Querying Visits</a>
                        </li>
                    
                        <li >
                            <a href="../querying-visitor-activities">Querying Visitor Activities</a>
                        </li>
                    
                        <li >
                            <a href="../querying-prospect-accounts">Querying Prospect Accounts</a>
                        </li>
                    
                        <li >
                            <a href="../reading-emails">Reading Emails</a>
                        </li>
                    
                        <li >
                            <a href="../sending-one-to-one-emails">Sending One to One Emails</a>
                        </li>
                    
                        <li >
                            <a href="../object-field-references">Object Field References</a>
                        </li>
                    
                        <li >
                            <a href="../error-codes-messages">Error Codes & Messages</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li>
                    <a rel="next" href="../using-visits">
                    <i class="fa fa-arrow-left"></i> Using Visits
                    </a>
                </li>
                
                
                <li>
                    <a rel="prev" href="../using-visitor-activities">
                    Using Visitor Activities <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#api-version-3-using-visitors">API (version 3) - Using Visitors</a></li>
        
            <li><a href="#xml-response-formats">XML Response Formats</a></li>
        
            <li><a href="#assigning-and-reassigning-visitors">Assigning and Reassigning Visitors</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="api-version-3-using-visitors">API (version 3) - Using Visitors</h1>
<h2 id="supported-operations">Supported Operations<a name="20547-supported-operations"></a></h2>
<p>For a complete list of fields involved in visitor operations, see the <a href="../../../../object-field-references#visitor">Visitor</a> section of <a href="../../../../object-field-references">Object Field References</a>.</p>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>URL Format</strong></th>
<th><strong>Required Parameters</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>assign</code></td>
<td><code>/api/visitor/version/3/do/assign/id/**_&lt;id&gt;_**?...</code></td>
<td><code>user_key, api_key, id, (prospect_email OR prospect_id)</code></td>
<td>Assigns or reassigns the visitor specified by <code>&lt;id&gt;</code> to a specified prospect.  One (and only one) of the following parameters must be provided to identify the target prospect: <code>&lt;prospect_email&gt;</code> or <code>&lt;prospect_id&gt;</code>.  Returns an updated version of the visitor.</td>
</tr>
<tr>
<td><code>read</code></td>
<td><code>/api/visitor/version/3/do/read/id/**_&lt;id&gt;_**?...</code></td>
<td><code>user_key, api_key, id</code></td>
<td>Returns the data for the visitor specified by <code>&lt;id&gt;</code>, including associated visitor activities, identified company data, and visitor referrers. <code>&lt;id&gt;</code> is the Pardot ID for the target visitor.</td>
</tr>
</tbody>
</table>
<p><a name="20547-xml-response-formats"></a></p>
<h2 id="xml-response-formats">XML Response Formats</h2>
<p>For <code>output=full</code>:</p>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;visitor&gt;
        ...
        &lt;prospect&gt;
            ...
        &lt;/prospect&gt;
        &lt;identified_company&gt;
            ...
        &lt;/identified_company&gt;
        &lt;visitor_referrer&gt;
            ...
        &lt;/visitor_referrer&gt;
        &lt;visitor_activities&gt;
            &lt;visitor_activity&gt;
                ...
            &lt;/visitor_activity&gt;
        &lt;/visitor_activities&gt;
    &lt;/visitor&gt;
&lt;/rsp&gt;
</code></pre>

<p>For <code>output=simple</code>:</p>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;visitor&gt;
        ...
    &lt;/visitor&gt;
&lt;/rsp&gt;
</code></pre>

<p>For <code>output=mobile</code>:</p>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;visitor&gt;
        &lt;id&gt;...&lt;/id&gt;
        &lt;prospect_id&gt;...&lt;/prospect_id&gt;
        &lt;page_view_count&gt;...&lt;/page_view_count&gt;
        &lt;ip_address&gt;...&lt;/ip_address&gt;
        &lt;hostname&gt;...&lt;/hostname&gt;
        &lt;created_at&gt;...&lt;/created_at&gt;
        &lt;updated_at&gt;...&lt;/updated_at&gt;
    &lt;/visitor&gt;
&lt;/rsp&gt;
</code></pre>

<table>
<thead>
<tr>
<th><strong>Tag</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;visitor&gt;</code></td>
<td>Parent tag. Contains data fields for target visitor.  For complete field listing, see <a href="../../../../object-field-references#visitor">Visitor</a> in <a href="../../../../object-field-references">Object Field References</a>.</td>
</tr>
<tr>
<td><code>&lt;prospect&gt;</code></td>
<td>Contains data about the prospect to which this visitor is assigned.  The prospect's data is returned in <code>mobile</code> output format.  See <a href="../../../using-prospects#xml-response-formats">XML Response Formats</a> in <a href="../../../using-prospects">Using Prospects</a>.</td>
</tr>
<tr>
<td><code>&lt;identified_company&gt;</code></td>
<td>Contains data about the identified company associated with this visitor.  This leaf only appears if an identified company is associated with this visitor.  See <a href="../../../../object-field-references#identified-company">Identified Company</a> in <a href="../../../../object-field-references">Object Field References</a>.</td>
</tr>
<tr>
<td><code>&lt;visitor_referrer&gt;</code></td>
<td>Contains data about this visitor's referrer.  This leaf only appears if this visitor has an associated visitor referrer.  For complete field listing, see <a href="../../../../object-field-references#visitor-referrer">Visitor Referrer</a> in <a href="../../../../object-field-references">Object Field References</a>.</td>
</tr>
<tr>
<td><code>&lt;visitor_activities&gt;</code></td>
<td>Contains all visitor activities associated with this visitor.  Contains only <code>&lt;visitor_activity&gt;</code> tags.</td>
</tr>
<tr>
<td><code>&lt;visitor_activity&gt;</code></td>
<td>Contains data fields for a visitor activity.  For complete field listing, see <a href="../../../../object-field-references#visitor-activity">Visitor Activity</a> in <a href="../../../../object-field-references">Object Field References</a>.</td>
</tr>
</tbody>
</table>
<p><a name="20547-assigning-and-reassigning-visitors"></a></p>
<h2 id="assigning-and-reassigning-visitors">Assigning and Reassigning Visitors</h2>
<p>To assign/reassign a visitor, both the visitor to be assigned and the target prospect of the assignment must be defined.  Visitors are specified by their Pardot ID.  Prospects can be specified by their Pardot user ID or by their email address.  Possible combinations of parameters are shown below.  Developers are responsible for substituting specific values for parameters denoted by <code>&lt;carets&gt;</code>.</p>
<p><strong><em>Examples:</em></strong></p>
<pre><code>/api/visitor/version/3/do/assign/id/&lt;visitor_id&gt;?prospect_email=&lt;prospect_email&gt;&amp;api_key=&lt;api_key&gt;&amp;user_key=&lt;user_key&gt;
/api/visitor/version/3/do/assign/id/&lt;visitor_id&gt;?prospect_id=&lt;prospect_id&gt;&amp;api_key=&lt;api_key&gt;&amp;user_key=&lt;user_key&gt;
</code></pre>

<p>XML responses to <code>assign</code> requests are identical to <code>read</code> requests, but reflect the new visitor assignment in the <code>&lt;prospect&gt;</code> node.</p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/prettify-1.0.min.js"></script>
        <script src="../../../js/base.js"></script>
    </body>
</html>